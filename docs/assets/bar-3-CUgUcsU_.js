import{t as m}from"./index-CovLBAaW.js";const s=+new Date,n={min:s,max:s+432e5,categories:["设备A","设备B","设备C"],type:["状态1","状态2","状态3","状态4"],value:[]};n.categories.forEach(function(t,e){for(var o=s,a=36e5,r=0;r<10;r++){var i=n.type[Math.round(Math.random()*(n.type.length-1))];n.value.push({categorie:t,type:i,begin:o,end:o+=a})}});const d=(t,e)=>{var o=e.value(0),a=e.coord([e.value(2),o]),r=e.coord([e.value(3),o]),i=e.size([0,1])[1]*.6,c=echarts.graphic.clipRectByRect({x:a[0],y:a[1]-i/2,width:r[0]-a[0],height:i},{x:t.coordSys.x,y:t.coordSys.y,width:t.coordSys.width,height:t.coordSys.height});return c&&{type:"rect",transition:["shape"],shape:c,style:e.style()}},y=t=>{const e={timeStyle:"medium",dateStyle:"medium"},o=new Intl.DateTimeFormat("zn-cn",e),a=o.format(t.value[2]),r=o.format(t.value[3]);return t.marker+t.value[1]+": "+a+"~"+r},h=t=>{const e={hour:"2-digit",minute:"2-digit"};return new Intl.DateTimeFormat("zh-cn",e).format(t)},u=(t,e)=>{const o=[];e.value.forEach(r=>{const i=[r.categorie,r.type,r.begin,r.end],c=e.type.findIndex(l=>l==i[1]);o.push({value:i,name:i[0],itemStyle:{normal:{color:m.color[c]}}})}),t.xAxis.min=e.min,t.xAxis.max=e.max,t.legend.data=e.type,t.yAxis.data=e.categories,t.series.at(-1).data=o;const a=[];return e.type.forEach(r=>{a.push({name:r,legendOnly:!0,type:"line",data:[]})}),t.tooltip.formatter=y,t.xAxis.axisLabel.formatter=h,t.series.at(-1).renderItem=d,t.series=[...a,t.series.at(-1)],t},f=t=>u({tooltip:{},title:{text:"时序图"},legend:{data:[]},grid:{top:40,bottom:60,left:0,right:10},dataZoom:[{type:"slider",filterMode:"weakFilter",showDataShadow:!1,bottom:20,labelFormatter:""},{type:"inside",filterMode:"weakFilter"}],xAxis:{type:"time",min:s,max:s+432e5,scale:!0,splitNumber:6,axisLabel:{}},yAxis:{data:[]},series:[{type:"custom",encode:{x:[2,3],y:0,legend:[1]},data:n}]},n);export{n as data,f as default,u as setData};
